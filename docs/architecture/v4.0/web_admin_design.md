
# DocuMind Web 管理后台：功能清单与技术方案 (v4.0)

## 一、产品定位

**DocuMind Web 管理后台** 是整个系统的“指挥中心”和“大脑”。它是一个独立的、功能齐全的 Web 应用，面向项目的核心参与者（产品经理、架构师、开发负责人、管理员），提供强大的知识管理、数据洞察和系统治理能力。

- **核心职责**: 管理、创造、分析、治理
- **用户角色**: 超级用户、管理员

---

## 二、功能清单 (分阶段实施)

### 阶段一：MVP (核心价值链)

**目标**: 快速打通“创建 → 引用 → 预览”的核心价值链，支持 Linker 插件的 MVP 功能。

| 模块 | 功能点 | 详细描述 |
| :--- | :--- | :--- |
| **实体管理** | 创建新实体 | - 提供一个统一的表单，用于创建不同类型的实体（服务、API、页面等）。<br>- 表单字段根据实体类型动态变化。<br>- **核心流程**: 提交表单 → 调用后台 API → 后台创建 Neo4j 节点和飞书文档 → 返回实体 ID 和文档链接。 |
| | 编辑实体 | - 点击实体列表中的“编辑”按钮，进入编辑页面。<br>- 表单加载并显示该实体的所有元数据。 |
| | 查看实体列表 | - 提供一个可搜索、可筛选、可分页的实体列表。<br>- 列表显示核心元数据（名称、类型、状态、负责人）。 |
| | 查看实体详情 | - 点击实体名称，进入详情页面。<br>- 详情页显示所有元数据，并提供飞书文档的跳转链接。 |
| **用户管理** | 简单的用户认证 | - 基于邮箱/密码或 OAuth（如飞书扫码登录）的登录机制。 |

### 阶段二：智能增强

**目标**: 引入知识图谱和 AI 能力，从“管理”走向“洞察”。

| 模块 | 功能点 | 详细描述 |
| :--- | :--- | :--- |
| **知识图谱** | 实体关系可视化 | - 在实体详情页，使用 D3.js、ECharts 等库，可视化展示该实体与其他实体的关联关系（如服务依赖、API 调用）。<br>- 支持图谱的缩放、拖拽、节点点击等交互。 |
| | 全局知识图谱 | - 提供一个独立的页面，展示整个项目的全局知识图谱。 |
| **AI 知识库** | 智能问答 (RAG) | - 提供一个聊天界面，用户可以用自然语言提问。<br>- 后台结合 Qdrant（向量搜索）和 Neo4j（图谱遍历），生成包含引用的准确回答。 |

### 阶段三：系统治理

**目标**: 确保知识库的长期健康、一致和可维护。

| 模块 | 功能点 | 详细描述 |
| :--- | :--- | :--- |
| **数据健康度** | 完整性检测 | - 定期扫描所有实体，检测缺失的关键元数据（如负责人、描述）。<br>- 生成“待办”列表，提醒相关人员补充。 |
| | 关联性检测 | - 检测“悬空”的实体（没有任何关联关系）。<br>- 检测循环依赖等异常关联模式。 |
| **系统设置** | 实体类型管理 | - 允许管理员自定义实体类型及其字段（低代码）。 |
| | 用户与权限管理 | - 实现基于角色的访问控制 (RBAC)。 |

---

## 三、技术方案建议

### 3.1 前端

- **框架**: **React (Next.js)** 或 **Vue (Nuxt.js)**
  - **理由**: 这两者都拥有庞大的生态、成熟的解决方案和优秀的服务端渲染 (SSR) 能力，有利于 SEO 和首屏加载速度。
- **UI 组件库**: **Ant Design** 或 **MUI**
  - **理由**: 提供丰富、高质量的后台管理组件，开箱即用，能大幅提升开发效率。
- **数据可视化**: **ECharts** 或 **D3.js**
  - **理由**: ECharts 上手简单，配置驱动；D3.js 更底层，定制能力强。可根据图谱的复杂度选择。

### 3.2 后端

- **语言/框架**: **Node.js (Express/Fastify)** 或 **Python (FastAPI)**
  - **理由**: 与 API 服务保持一致，便于代码复用和团队维护。
- **部署**: **Railway**
  - **理由**: 与项目的其他后台服务统一部署在 Railway 上，便于管理和维护。

### 3.3 仓库与开发模式

- **建议**: **Monorepo**
  - **理由**: 将 Web 管理后台、Linker 插件、后端 API 服务放在同一个 Git 仓库中，使用 pnpm/yarn workspace 或 Turborepo 等工具进行管理。
  - **优势**:
    - **代码共享**: 可以在不同应用之间轻松共享类型定义、工具函数等。
    - **统一构建/测试**: 一条命令即可完成所有应用的构建和测试。
    - **简化依赖管理**: 更容易管理和升级依赖。

---

## 四、对应的 Agent 任务

为了实现这个 Web 管理后台，我们需要引入一个新的 Agent：

**Agent 2-1: 全栈 Web 开发者**

- **角色**: 负责 DocuMind Web 管理后台的前后端开发。
- **核心技能**: 精通 React/Vue 和 Node.js/Python，熟悉 Ant Design/MUI，有后台管理系统开发经验。
- **首要任务 (MVP)**: 快速开发出实体管理的 CRUD 功能，为 Linker 插件提供数据源。
