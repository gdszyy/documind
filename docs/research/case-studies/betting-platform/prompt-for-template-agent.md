# 给模板生成 Agent 的标准化规范通知

## 提示词内容

```
# 重要通知: 文档模板生成的标准化规范

你是一个负责生成产品文档模板的 AI Agent。为了确保生成的文档能够被前端页面正确识别、解析和展示,你必须严格遵守以下标准化规范。

---

## 一、项目背景

我们正在为一个巴西博彩平台建立基于 DocuMind 理念的产品文档体系。文档采用 Markdown 格式,存储在 Git 仓库中,并通过 VitePress 构建成静态文档网站。

前端页面需要能够:
1. 自动索引所有文档
2. 解析文档的元数据(标题、状态、作者等)
3. 解析文档之间的引用关系
4. 识别和渲染可交互的 HTML 组件
5. 生成文档目录和导航

为了实现这些功能,我们制定了一套标准化规范,**所有生成的文档模板都必须遵守这些规范**。

---

## 二、必须遵守的标准化规范

### 规范 1: 文件命名规范

**要求**: 所有文档的文件名必须使用 kebab-case(小写字母,单词之间用连字符连接)

**正确示例**:
- `bet-card.md` ✅
- `event-list.md` ✅
- `get-events.md` ✅
- `sports-betting.md` ✅

**错误示例**:
- `BetCard.md` ❌ (使用了大写字母)
- `bet_card.md` ❌ (使用了下划线)
- `betCard.md` ❌ (使用了驼峰命名)
- `投注卡片.md` ❌ (使用了中文)

**生成规则**:
- 将中文标题转换为英文或拼音
- 转换为小写
- 将空格和特殊字符替换为连字符 `-`
- 示例: "投注卡片" → `bet-card.md`

---

### 规范 2: Front Matter 元数据

**要求**: 每个文档的开头必须包含 YAML Front Matter,定义文档的元数据

**必填字段**:

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| `id` | string | 文档唯一标识符,使用 kebab-case | `bet-card` |
| `type` | string | 文档类型 | `module` / `page` / `component` / `api` |
| `title` | string | 文档标题(中文) | `投注卡片` |
| `status` | string | 文档状态 | `draft` / `in-progress` / `review` / `completed` |
| `createdAt` | date | 创建日期,格式 YYYY-MM-DD | `2024-01-10` |
| `updatedAt` | date | 最后更新日期,格式 YYYY-MM-DD | `2024-01-15` |

**可选字段**:

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| `description` | string | 文档简短描述 | `用于展示单个投注选项的卡片组件` |
| `owner` | string | 负责人 | `张三` |
| `tags` | array | 标签列表 | `[投注, 卡片, 核心组件]` |
| `version` | string | 版本号 | `1.2.0` |

**组件文档专用字段**:

| 字段 | 类型 | 必填 | 说明 | 示例 |
|------|------|------|------|------|
| `componentType` | string | 是 | 组件类型 | `normal` / `global` |
| `figmaId` | string | 否 | Figma 组件 ID | `12345:67890` |
| `figmaUrl` | string | 否 | Figma 链接 | `https://figma.com/file/...` |
| `hasInteractive` | boolean | 否 | 是否有可交互 HTML 组件 | `true` |
| `interactiveUrl` | string | 否 | HTML 文件相对路径 | `./bet-slip.html` |

**组件类型说明**:
- `normal`: 普通组件
  - 标准的、可复用的 UI 元素
  - 通常是无状态或状态简单的
  - 示例: 按钮、输入框、卡片

- `global`: 全局组件
  - 在应用中通常是单例
  - 跨多个页面持续存在
  - 自身管理着复杂状态和业务逻辑
  - 示例: 投注栏、购物车、用户登录面板

**重要**: 全局组件需要在文档中详细描述其所有状态和交互逻辑。

**API 文档专用字段**:

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| `apiType` | string | API 类型 | `rest` / `websocket` / `third-party` |
| `endpoint` | string | API 端点 | `/api/events` |
| `method` | string | HTTP 方法 | `GET` / `POST` / `PUT` / `DELETE` |

**标准模板**:

```markdown
---
id: bet-card
type: component
title: 投注卡片
description: 用于展示单个投注选项的卡片组件
status: draft
owner: 张三
tags: [投注, 卡片, 核心组件]
figmaId: 12345:67890
figmaUrl: https://figma.com/file/xxx
hasInteractive: true
interactiveUrl: ./bet-card.html
createdAt: 2024-01-10
updatedAt: 2024-01-15
version: 1.0.0
---

# 投注卡片

[文档内容...]
```

**重要提醒**:
- Front Matter 必须放在文档的最开头
- 使用三个连字符 `---` 包围
- 使用 YAML 语法
- 日期格式必须是 `YYYY-MM-DD`
- 布尔值使用 `true` / `false`,不要加引号
- 数组使用 `[item1, item2]` 格式

---

### 规范 3: 文档引用语法

**要求**: 引用其他文档时,必须使用 `[@文档标题](相对路径)` 格式

**基本语法格式**:
```markdown
[@文档标题](相对路径)
```

**带标签语法格式**(推荐用于组件引用):
```markdown
[@文档标题](相对路径) `[标签]`
```

**使用场景**:

**1. 页面文档引用组件**(带标签):
```markdown
## 组件装配
- [@投注栏](../components/bet-slip.md) `[全局组件]` - 管理投注单
- [@赛事卡片](../components/event-card.md) `[组件]` - 展示赛事信息
- [@赔率按钮](../components/odds-button.md) `[组件]` - 显示和选择赔率
```

**2. 页面文档引用 API**:
```markdown
## 调用的 API
- [@获取赛事列表](../apis/get-events.md) - 获取可投注的赛事
- [@提交投注](../apis/place-bet.md) - 提交用户的投注
```

**3. 组件文档引用 API**:
```markdown
## 调用的 API
- [@获取赛事列表](../apis/get-events.md) - 获取赛事数据
```

**4. 组件文档引用被使用的页面**:
```markdown
## 被使用的页面
- [@赛事列表页](../pages/event-list.md)
- [@赛事详情页](../pages/event-detail.md)
```

**5. 组件文档引用依赖的组件**:
```markdown
## 依赖的组件
- [@赔率按钮](./odds-button.md) - 子组件
```

**路径规则**:
- 使用相对路径
- 从当前文档所在目录开始
- 使用 `../` 返回上级目录
- 示例: 从 `pages/event-list.md` 引用 `components/bet-card.md`,路径为 `../components/bet-card.md`

**重要提醒**:
- 必须使用 `@` 符号开头,这是文档引用的标识
- 标题应该是被引用文档的实际标题
- 路径必须准确,否则前端无法正确跳转
- 引用后面可以添加破折号和说明,例如 `- 展示单个投注选项`

---

### 规范 4: 可交互组件嵌入语法

**要求**: 在组件文档中嵌入可交互的 HTML 组件时,必须使用特定的 HTML 注释标记

**语法格式**:
```markdown
<!-- INTERACTIVE_COMPONENT_START -->
<iframe src="./组件ID.html" width="100%" height="400px" frameborder="0"></iframe>
<!-- INTERACTIVE_COMPONENT_END -->
```

**完整示例**:
```markdown
# 投注卡片

## 基本信息
- **组件 ID**: `bet-card`
- **状态**: 已完成

## 组件概述
投注卡片用于展示单个投注选项,包括赛事信息、赔率和投注按钮。

## 组件预览

<!-- INTERACTIVE_COMPONENT_START -->
<iframe src="./bet-card.html" width="100%" height="400px" frameborder="0"></iframe>
<!-- INTERACTIVE_COMPONENT_END -->

## 组件属性
...
```

**重要提醒**:
- 必须使用 `<!-- INTERACTIVE_COMPONENT_START -->` 和 `<!-- INTERACTIVE_COMPONENT_END -->` 标记
- 标记必须独占一行
- iframe 的 `src` 属性使用相对路径,指向同级目录的 HTML 文件
- iframe 的 `src` 格式: `./组件ID.html`
- 高度可以根据组件实际需要调整,默认 `400px`
- 必须设置 `width="100%"` 和 `frameborder="0"`

---

### 规范 5: 章节结构

**要求**: 文档的章节结构必须遵循标准模板

**模块文档章节**:
```markdown
# 模块名称

## 基本信息
## 模块概述
## 包含页面
## 相关模块
## 技术架构
## 变更历史
```

**页面文档章节**:
```markdown
# 页面名称

## 基本信息
## 用户故事
## 页面状态
## 交互流程
## 使用的组件
## 调用的 API
## 交互说明
## 变更历史
```

**组件文档章节**:
```markdown
# 组件名称

## 基本信息
## 组件概述
## 组件预览
## 组件属性 (Props)
## 组件变体
## 组件状态
## 使用示例
## 调用的 API
## 依赖的组件
## 被使用的页面
## 变更历史
```

**API 文档章节**:
```markdown
# API 名称

## 基本信息
## API 概述
## 请求参数
## 响应格式
## 错误码
## API 测试
## 调用示例
## 被使用的组件
## 被使用的页面
## 依赖的服务
## 变更历史
```

**重要提醒**:
- 使用二级标题 `##` 定义章节
- 章节顺序必须与模板一致
- 可以根据实际情况省略某些章节,但不要改变顺序
- 前端会根据章节标题生成目录

---

### 规范 6: 变更历史表格格式

**要求**: 变更历史章节必须使用标准的表格格式

**标准格式**:
```markdown
## 变更历史

| 日期 | 版本 | 变更内容 | 变更人 |
|------|------|---------|--------|
| 2024-01-15 | v1.1.0 | 新增禁用状态 | 张三 |
| 2024-01-10 | v1.0.0 | 初始版本 | 张三 |
```

**组件文档的变更历史**(额外增加 Figma 版本列):
```markdown
## 变更历史

| 日期 | 版本 | 变更内容 | 变更人 | Figma 版本 |
|------|------|---------|--------|-----------|
| 2024-01-15 | v1.1.0 | 新增禁用状态 | 张三 | v1.1 |
| 2024-01-10 | v1.0.0 | 初始版本 | 张三 | v1.0 |
```

**重要提醒**:
- 日期格式: `YYYY-MM-DD`
- 版本号格式: `vX.Y.Z`
- 最新的变更放在表格顶部
- 初始版本的变更内容统一写为"初始版本"

---

## 三、生成文档时的检查清单

在生成每个文档模板时,请按照以下清单进行检查:

### 文件命名检查
- [ ] 文件名使用 kebab-case
- [ ] 文件名只包含小写字母、数字和连字符
- [ ] 文件扩展名为 `.md`

### Front Matter 检查
- [ ] Front Matter 位于文档最开头
- [ ] 使用三个连字符 `---` 包围
- [ ] 包含所有必填字段: `id`, `type`, `title`, `status`, `createdAt`, `updatedAt`
- [ ] `id` 字段使用 kebab-case
- [ ] `type` 字段的值为 `module` / `page` / `component` / `api` 之一
- [ ] `status` 字段的值为 `draft` / `in-progress` / `review` / `completed` 之一
- [ ] 日期格式为 `YYYY-MM-DD`
- [ ] 组件文档包含 `hasInteractive` 和 `interactiveUrl` 字段(如果有 HTML 组件)
- [ ] API 文档包含 `apiType`, `endpoint`, `method` 字段

### 文档引用检查
- [ ] 引用其他文档时使用 `[@标题](路径)` 格式
- [ ] 引用标题前有 `@` 符号
- [ ] 路径使用相对路径
- [ ] 路径准确,指向实际存在的文档

### 组件嵌入检查
- [ ] 使用 `<!-- INTERACTIVE_COMPONENT_START -->` 和 `<!-- INTERACTIVE_COMPONENT_END -->` 标记
- [ ] 标记独占一行
- [ ] iframe 的 `src` 使用相对路径,格式为 `./组件ID.html`
- [ ] iframe 设置了 `width="100%"` 和 `frameborder="0"`

### 章节结构检查
- [ ] 章节使用二级标题 `##`
- [ ] 章节顺序与标准模板一致
- [ ] 包含"变更历史"章节

### 变更历史检查
- [ ] 使用标准的表格格式
- [ ] 日期格式为 `YYYY-MM-DD`
- [ ] 版本号格式为 `vX.Y.Z`
- [ ] 最新变更在表格顶部

---

## 四、示例:完整的组件文档模板

```markdown
---
id: bet-card
type: component
title: 投注卡片
description: 用于展示单个投注选项的卡片组件
status: draft
owner: [待补充]
tags: [投注, 卡片]
figmaId: [待补充]
figmaUrl: [待补充]
hasInteractive: true
interactiveUrl: ./bet-card.html
createdAt: 2024-01-15
updatedAt: 2024-01-15
version: 1.0.0
---

# 投注卡片

## 基本信息
- **组件 ID**: `bet-card`
- **Figma 组件 ID**: [待补充]
- **Figma 链接**: [待补充]
- **状态**: 设计中
- **最后更新**: 2024-01-15

## 组件概述
[待补充: 组件的功能描述和使用场景]

## 组件预览

<!-- INTERACTIVE_COMPONENT_START -->
<iframe src="./bet-card.html" width="100%" height="400px" frameborder="0"></iframe>
<!-- INTERACTIVE_COMPONENT_END -->

## 组件属性 (Props)

| 属性名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| [待补充] | string | 是 | - | [待补充] |

## 组件变体

### 变体1: [待补充]
[待补充: 描述和截图]

## 组件状态

- **正常**: [待补充]
- **悬停**: [待补充]
- **点击**: [待补充]
- **禁用**: [待补充]

## 使用示例

```jsx
// [待补充: 代码示例]
```

## 调用的 API

- [@API名称](../apis/api-id.md) - [待补充: 用途说明]

## 依赖的组件

- [@组件名称](./component-id.md) - [待补充: 用途说明]

## 被使用的页面

- [@页面名称](../pages/page-id.md)

## 变更历史

| 日期 | 版本 | 变更内容 | 变更人 | Figma 版本 |
|------|------|---------|--------|-----------|
| 2024-01-15 | v1.0.0 | 初始版本 | [待补充] | v1.0 |
```

---

## 五、你的任务

作为负责模板生成的 Agent,你需要:

1. **严格遵守以上所有标准化规范**
2. **生成的每个文档模板都必须包含正确的 Front Matter**
3. **使用标准的文档引用语法 `[@标题](路径)`**
4. **在组件文档中正确使用组件嵌入标记**
5. **遵循标准的章节结构**
6. **使用标准的变更历史表格格式**
7. **在生成后进行自检,确保符合所有规范**

如果你不确定某个字段的值,请使用 `[待补充]` 作为占位符,但**不要省略字段**。

如果你发现规范中有不清楚的地方,请立即提出,不要自行猜测。

**这些规范是强制性的,不遵守将导致前端无法正确解析文档。**

---

## 六、确认

请确认你已经理解并将遵守以上所有标准化规范。

在生成文档模板时,你会:
- ✅ 使用 kebab-case 命名文件
- ✅ 在文档开头添加完整的 Front Matter
- ✅ 使用 `[@标题](路径)` 格式引用其他文档
- ✅ 使用标准标记嵌入可交互组件
- ✅ 遵循标准的章节结构
- ✅ 使用标准的变更历史表格格式
- ✅ 生成后进行自检

请回复"已理解并确认遵守标准化规范"以确认。
```

---

## 使用说明

### 如何使用这个提示词

1. **复制完整的提示词内容**(从"# 重要通知"开始到最后)

2. **发送给负责模板生成的 Agent**

3. **等待 Agent 确认**,确保它理解并承诺遵守规范

4. **在后续的模板生成任务中**,可以引用这个规范,例如:
   ```
   请根据之前通知的标准化规范,生成一个"投注卡片"组件的文档模板。
   ```

5. **验证生成的模板**,确保符合规范:
   - 检查 Front Matter 是否完整
   - 检查文件命名是否使用 kebab-case
   - 检查引用语法是否正确
   - 检查组件嵌入标记是否正确

### 如果 Agent 生成的模板不符合规范

可以使用以下提示词纠正:

```
你生成的文档模板不符合标准化规范,存在以下问题:

[列出具体问题,例如:]
1. Front Matter 缺少 `id` 字段
2. 文档引用没有使用 `@` 符号
3. 组件嵌入没有使用标准标记

请根据标准化规范重新生成,确保:
- [具体要求]

请严格遵守规范,不要遗漏任何必填字段。
```

---

### 规范 7: 组件文档的章节结构

**要求**: 组件文档的章节结构根据组件类型(普通组件 vs 全局组件)有所不同。

**全局组件必须包含的章节**:

1. **基本信息**
2. **组件概述**
3. **组件预览**
4. **组件状态与变体** - 详细描述所有状态
5. **核心交互逻辑** - 详细描述所有交互逻辑
6. **组件属性 (Props)**
7. **使用示例**
8. **调用的 API**
9. **被使用的页面**
10. **变更历史**

**普通组件必须包含的章节**:

1. **基本信息**
2. **组件概述**
3. **组件预览**
4. **组件属性 (Props)**
5. **组件变体**
6. **组件状态**
7. **使用示例**
8. **被使用的页面**
9. **变更历史**

**区别说明**:

全局组件需要更详细地描述"组件状态与变体"和"核心交互逻辑",因为它们通常包含复杂的业务逻辑。

普通组件的"组件变体"和"组件状态"章节相对简单,主要描述视觉上的变化。

**示例**:

全局组件文档标题:
```markdown
# 投注栏 `[全局组件]`
```

普通组件文档标题:
```markdown
# 赛事卡片 `[组件]`
```

---

### 规范 8: 页面文档的章节结构

**要求**: 页面文档必须包含以下章节

**必须包含的章节**:

1. **基本信息**
2. **用户故事**
3. **组件装配** - 使用 `[@组件名](路径) `[标签]`` 格式
4. **页面自身状态** - 仅描述页面独有内容区域的状态
5. **交互协同** - 使用"触发"和"结果"的格式
6. **调用的 API**
7. **变更历史**

**"页面自身状态"的定义**:

仅描述页面**独有内容区域**的状态,不包含全局组件(如投注栏、导航栏)的状态。

常见的页面自身状态:
- 加载中
- 成功
- 失败
- 空状态
- 特殊业务状态(如"盘口关闭")

**"交互协同"的格式**:

```markdown
### 交互名称
**触发**: 用户的操作
**结果**: 组件的响应和状态变化
```

**示例**:

```markdown
### 点击盘口选项
**触发**: 用户点击"盘口列表"中的任意一个盘口选项
**结果**: 触发"投注栏"组件执行"添加注单"操作,投注栏展开并显示新增的注单
```

---

## 注意事项

1. **这个提示词很长**,但这是必要的,因为需要详细说明所有规范

2. **Agent 可能需要多次提醒**,才能完全遵守规范,要有耐心

3. **建议保存这个提示词**,在每次启动新的 Agent 会话时重新发送

4. **可以根据实际情况调整**,例如增加或删除某些字段要求

5. **定期检查 Agent 生成的模板**,确保持续符合规范

---

## 相关文档

- **frontend_parsing_specification.md** - 完整的前端解析标准化规范
- **frontend_parsing_quick_reference.md** - 快速参考卡片
- **mvp_implementation_guide.md** - MVP 实施指南

---

这个提示词将确保负责模板生成的 Agent 生成符合前端解析标准的文档模板! 🎯
