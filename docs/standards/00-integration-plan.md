# DocuMind v4: Figma 自动化整合方案

## 1. 目标

整合用户提供的 Figma 组件系统与现有的 DocuMind v3 文档体系,创建一个**统一、兼容、可扩展**的 v4 版本。该版本需同时支持:

1.  **手动编写**: 开发者或产品经理可以方便地手动创建和维护文档。
2.  **自动化生成**: 能够通过 AI 和自动化脚本,将 Figma 设计稿直接转化为符合规范的产品文档。

## 2. 核心设计: 统一组件模板

为了避免维护两套独立的模板,我们将创建一个统一的、更全面的组件模板 (`component-template-v4.md`)。该模板将融合 v3 模板的结构化优势和 Figma 模板的深度内容。

### 2.1. 模板结构设计

新的组件模板将包含以下章节,并明确标注了手动填写与自动填充的指引:

- **Front Matter (v3 基础)**: 保持与前端解析兼容的 YAML 格式,用于存储核心元数据。
- **1. 概述**: 包含组件描述、使用场景等。
- **2. 视觉预览**: 展示组件的默认状态预览图。
- **3. 组件剖析 (源自 Figma)**: 展示组件的构成元素。
- **4. 属性与状态 (源自 Figma)**: 详细定义组件的各种变体和状态。
- **5. 行为与交互 (源自 Figma)**: 描述用户操作和条件逻辑。
- **6. 内容指南 (源自 Figma)**: 定义各元素的文案和内容规范。
- **7. 无障碍设计 (源自 Figma)**: Accessibility (a11y) 指南。
- **8. 技术规格 (v3 基础)**: 包含关联页面、API、依赖等关系型数据。
- **9. 变更历史 (v3 基础)**: 记录文档的版本迭代。

### 2.2. 占位符策略

- **手动编写**: 模板中使用 `[待补充]` 作为占位符,引导用户填写。
- **自动生成**: 在 AI 提示词中,将指导 AI 把从 Figma 提取的 JSON 数据 (如 `{{COMPONENT_NAME}}`) 填充到对应的 `[待补充]` 位置。

## 3. 实施计划

1.  **创建 v4 目录**: 建立 `/home/ubuntu/documind_v4` 目录。
2.  **创建整合后的组件模板**: 生成 `component-template-v4.md`。
3.  **创建 Figma 命名规范指南**: 编写 `figma-naming-convention.md`, 指导设计师如何组织设计稿以便于自动化处理。
4.  **创建自动化工作流指南**: 编写 `automation-workflow-guide.md`, 描述从 Figma 提取数据到 AI 生成文档的完整流程,并提供主提示词 (Master Prompt)。
5.  **更新项目文档**: 更新 `README.md` 和 `00-specification.md` 以反映 v4 的变化。
6.  **打包交付**: 将所有产出物打包成 `documind_v4_final.zip`。

通过此方案,DocuMind v4 将成为一个既能满足当前手动编写需求,又能无缝对接未来自动化流程的强大文档体系。
